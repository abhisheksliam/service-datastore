{"version":3,"sources":["server/controllers/script.controller.js"],"names":["getByScriptId","req","res","_q","params","get","then","script","json","catch","next","e","getScriptByTaskId","generateAndSaveScript","script_meta","template_id","body","step_number","task_id","scenario","appName","console","log","prepareScriptItem","script_item","_getScriptByTaskId","scriptData","task_json","items","parseInt","_script","save","savedScript","error","list","query","limit","skip","scripts","getMapper","done","mapper","getTemplateById","template","mergeTemplateParams","delimeter","getKeyValue","key","forEach","el","_ret","JSON","stringify","replace","myFunction","x","parse","taskid","meta","app","template_item","version","parameters"],"mappings":"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","file":"script.controller.js","sourceRoot":"../../../../.."}