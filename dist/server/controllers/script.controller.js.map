{"version":3,"sources":["server/controllers/script.controller.js"],"names":["getByScriptId","req","res","_q","params","get","then","script","json","catch","next","e","getScriptByTaskId","query","format","xmlContent","jsonToDistXml","set","send","javaContent","jsonToDistJava","charset","console","log","generateAndSaveScript","script_meta","template_id","body","step_number","task_id","scenario","pathways","methods","appName","prepareScriptItem","script_item","_getScriptByTaskId","scriptData","sle_id","task_json","items","parseInt","generatePathways","input","i","length","push","toString","_script","save","savedScript","error","list","limit","skip","scripts","getMapper","done","mapper","getTemplateById","template","mergeTemplateParams","delimeter","getKeyValue","key","ret","el","undefined","_ret","JSON","stringify","replace","myFunction","x","parse","taskid","meta","app","template_item","version","parameters"],"mappings":"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","file":"script.controller.js","sourceRoot":"../../../../.."}