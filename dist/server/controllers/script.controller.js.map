{"version":3,"sources":["server/controllers/script.controller.js"],"names":["getByScriptId","req","res","_q","params","get","then","script","json","catch","next","e","getScriptByTaskId","query","format","xmlContent","jsonToDistXml","set","send","javaContent","jsonToDistJava","slice","js_beautify","generateAndSaveScript","script_meta","template_id","body","step_number","task_id","scenario","appName","console","log","prepareScriptItem","script_item","_getScriptByTaskId","scriptData","sle_id","task_json","items","parseInt","_script","save","savedScript","error","list","limit","skip","scripts","getMapper","done","mapper","getTemplateById","template","mergeTemplateParams","delimeter","getKeyValue","key","ret","i","length","el","undefined","_ret","JSON","stringify","replace","myFunction","x","parse","taskid","meta","app","template_item","version","parameters"],"mappings":"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","file":"script.controller.js","sourceRoot":"../../../../.."}